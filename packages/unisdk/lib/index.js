"use strict";function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function i(e,i,n){if(i)t(e.prototype,i);if(n)t(e,n);return e}function n(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}var o=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var a=function(e,t,i){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i};var s=function(e,t){for(var i in t)o(e,i,{get:t[i],enumerable:!0})},c=function(e,t,i,a){var s=true,c=false,d=undefined;if(t&&(typeof t==="undefined"?"undefined":n(t))=="object"||typeof t=="function")try{var f=function(){var n=p.value;!l.call(e,n)&&n!==i&&o(e,n,{get:function(){return t[n]},enumerable:!(a=r(t,n))||a.enumerable})};for(var v=u(t)[Symbol.iterator](),p;!(s=(p=v.next()).done);s=true)f()}catch(e){c=true;d=e}finally{try{if(!s&&v.return!=null){v.return()}}finally{if(c){throw d}}}return e};var d=function(e){return c(o({},"__esModule",{value:!0}),e)};var f=function(e,t,i){return a(e,(typeof t==="undefined"?"undefined":n(t))!="symbol"?t+"":t,i)};var v={};s(v,{SDK_EVENT_KEYS:function(){return p},createUniSdk:function(){return g}});module.exports=d(v);var p=["getUserInfo","getSiteInfo","getSystemResource","login","pushContent","pushMpHome","pushMpUser","pushTaskCenter","pushUserAgreement","pushPrivacyNotice","pushCategoryList","pushBuildinApp","pushWXMiniApp","getLocationInfo","openRecordAudio","updateUser","share"];var h=/*#__PURE__*/function(){function t(){e(this,t);f(this,"c",{debug:!1,jsApiList:[]});f(this,"plugin");f(this,"state",0);try{this.plugin=uni.requireNativePlugin("UniSdkModule"),this.state=1}catch(e){this.state=3,uni.showToast({title:"挂载失败",duration:1500})}}i(t,[{key:"config",value:function e(e){try{if(this.c=e,this.state===3){this.log("CmsTopSdk init error","error");return}this.state=2,this.log("CmsTopSdk initialized Success")}catch(e){this.log("CmsTopSdk initialized failed","error")}}},{key:"getState",value:function e(){return this.state}},{key:"invoke",value:function e(e,t,i){var n=this;if(this.state!==2){var o;i===null||i===void 0?void 0:(o=i.fail)===null||o===void 0?void 0:o.call(i,"sdk not config success~"),this.log("CmsTopSdk initialized","error");return}try{this.plugin.asyncFunc({key:e,params:t},function(t){var o,r,u;if(!t.code){var l;i===null||i===void 0?void 0:(l=i.success)===null||l===void 0?void 0:l.call(i,t);return}t.code===0?i===null||i===void 0?void 0:(o=i.success)===null||o===void 0?void 0:o.call(i,t.data||"Method ".concat(e," exec success")):i===null||i===void 0?void 0:(r=i.fail)===null||r===void 0?void 0:r.call(i,t.message||"Method ".concat(e," exec fail with no reason")),i===null||i===void 0?void 0:(u=i.complete)===null||u===void 0?void 0:u.call(i,t),n.log("CmsTopSdk getMessage")})}catch(e){var r,u;i===null||i===void 0?void 0:(r=i.fail)===null||r===void 0?void 0:r.call(i,e.message),i===null||i===void 0?void 0:(u=i.complete)===null||u===void 0?void 0:u.call(i,e.message),this.log("CmsTopSdk initialized","error")}}},{key:"log",value:function e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"info";var i;((i=this.c)===null||i===void 0?void 0:i.debug)&&uni.showModal({title:t,content:e})}}]);return t}();p.forEach(function(e){h.prototype[e]=function(t,i){this.invoke(e,t,i)}});function g(){globalThis.cmstopSdk||(globalThis.cmstopSdk=new h)}0&&(module.exports={SDK_EVENT_KEYS:SDK_EVENT_KEYS,createUniSdk:createUniSdk});